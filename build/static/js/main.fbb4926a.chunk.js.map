{"version":3,"sources":["components/Filter.js","components/Notification.js","components/Persons.js","components/PersonForm.js","services/persons.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","Notification","message","style","background","fontSize","borderStyle","borderRadius","padding","marginBottom","color","type","text","Persons","persons","deletePerson","map","person","name","number","onClick","id","PersonForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","baseUrl","personService","getAll","axios","get","then","response","data","create","newObject","post","update","put","remove","delete","App","useState","setPersons","setFilter","setNewName","setNewNumber","setMessage","useEffect","initialPersons","personsToShow","toLowerCase","includes","event","target","preventDefault","some","window","confirm","personToUpdate","find","updatedPerson","returnedPerson","catch","error","newPerson","console","log","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fbb4926a.chunk.js","sourcesContent":["const Filter = ({ filter, handleFilterChange }) => {\n  return (\n    <div>\n      filter shown with: <input value={filter} onChange={handleFilterChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","const Notification = ({ message }) => {\n  const style = {\n    background: 'lightgrey',\n    fontSize: '20px',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '10px',\n    marginBottom: '10px',\n  };\n\n  if (!message) {\n    return null;\n  }\n\n  return (\n    <div\n      style={{ ...style, color: message.type === 'success' ? 'green' : 'red' }}\n    >\n      {message.text}\n    </div>\n  );\n};\n\nexport default Notification;\n","const Persons = ({ persons, deletePerson }) => {\n  return (\n    <div>\n      {persons.map((person) => (\n        <p key={person.name}>\n          {person.name} {person.number}\n          <button onClick={() => deletePerson(person.id, person.name)}>\n            delete\n          </button>\n        </p>\n      ))}\n    </div>\n  );\n};\n\nexport default Persons;\n","const PersonForm = ({\n  addPerson,\n  newName,\n  newNumber,\n  handleNameChange,\n  handleNumberChange,\n}) => {\n  return (\n    <div>\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default PersonForm;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  return axios.delete(`${baseUrl}/${id}`);\n};\n\nconst personService = { getAll, create, update, remove };\n\nexport default personService;\n","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport Notification from './components/Notification';\nimport Persons from './components/Persons';\nimport PersonForm from './components/PersonForm';\nimport personService from './services/persons';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [filter, setFilter] = useState('');\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value);\n  };\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    const isInPhonebook = persons.some((person) => person.name === newName);\n\n    if (isInPhonebook) {\n      const message = `${newName} is already added to phonebook, replace the old number with a new one?`;\n      const result = window.confirm(message);\n      if (result) {\n        const personToUpdate = persons.find(\n          (person) => person.name === newName\n        );\n        const updatedPerson = { ...personToUpdate, number: newNumber };\n\n        personService\n          .update(personToUpdate.id, updatedPerson)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map(\n                (person) => (person.name !== newName ? person : returnedPerson)\n              )\n            );\n            setMessage({\n              text: `Updated ${returnedPerson.name}`,\n              type: 'success',\n            });\n            setNewName('');\n            setNewNumber('');\n          })\n          .catch((error) => {\n            setMessage({\n              text: `${newName} has already been removed from server`,\n              type: 'fail',\n            });\n            setPersons(\n              persons.filter((person) => person.id !== personToUpdate.id)\n            );\n          });\n      }\n    } else {\n      const newPerson = { name: newName, number: newNumber };\n      personService\n        .create(newPerson)\n        .then((returnedPerson) => {\n          setPersons([...persons, returnedPerson]);\n          setMessage({ text: `Added ${returnedPerson.name}`, type: 'success' });\n          setNewName('');\n          setNewNumber('');\n        })\n        .catch((error) => {\n          console.log(error.response.data.error);\n          setMessage({\n            text: `${error.response.data.error}`,\n            type: 'fail',\n          });\n        });\n    }\n    setTimeout(() => {\n      setMessage(null);\n    }, 3000);\n  };\n\n  const deletePerson = (id, name) => {\n    const result = window.confirm(`Delete ${name}?`);\n\n    if (result) {\n      personService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter((person) => person.id !== id));\n          setMessage({ text: `Deleted ${name}`, type: 'success' });\n        })\n        .catch((error) => {\n          setMessage({\n            text: `${newName} has already been removed from server`,\n            type: 'fail',\n          });\n          setPersons(persons.filter((person) => person.id !== id));\n        });\n      setTimeout(() => {\n        setMessage(null);\n      }, 3000);\n    }\n  };\n\n  const personsToShow = filter\n    ? persons.filter((person) =>\n        person.name.toLowerCase().includes(filter.toLowerCase())\n      )\n    : persons;\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n\n      <h3>Add a new</h3>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h3>Numbers</h3>\n      <Persons persons={personsToShow} deletePerson={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}